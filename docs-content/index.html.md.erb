---
title: New Relic Nozzle for Pivotal Platform
owner: Partners
---

<br/>
This documentation describes [New Relic Nozzle for Pivotal Platform](https://network.pivotal.io/products/nr-firehose-nozzle/). 

New Relic Nozzle for Pivotal Platform collects metrics and events that are generated by all Pivotal Platform components and applications that run on Pivotal Platform Diego cells via the [Loggregator Firehose](https://docs.pivotal.io/pivotalcf/loggregator/index.html). The nozzle collects this data via the Remote Log Proxy (RLP) Gateway and pushes it to [New Relic](https://www.newrelic.com) to be ingested for dashboarding and visualization in New Relic Insights and New Relic One.


<br/>
<center>
    <img src="images/newrelic-nozzle-tile.png" alt="New Relic Nozzle Tile" height="150" width="150"/>
</center>


## <a id='overview'></a> Overview

After installation, the nozzle starts collecting and pushing Firehose events to New Relic for alerting and visualization. New Relic organizes the Firehose data based on Firehose event types, and shows each Firehose event type in its own separate dashboard.

The nozzle can be installed as a tile in Ops Manager or deployed using the CLI command **cf push** as a regular application. You can then monitor the health and performance of your Pivotal Platform deployments, and set alerts based on any metrics that are collected from Pivotal Platform Firehose.


## <a id='features'></a> Key Features

You can filter the nozzle dashboards that allow you to visualize the Firehose metrics and events.

You can monitor the health and performance of Pivotal Platform components with the following categories:

  * Pivotal Platform Domain
  * Pivotal Platform Deployment
  * Firehose Event Type
  * Origin
  * Job
  * Component IP Address
  * Application Detail
  * Container

Select the item from a list of values for any of the above metrics and filter the dashboard based on the selected value. You can filter a dashboard by multiple metrics.


## <a id='filters'></a> Event Filtering

Due to a large number of events being streamed from the Firehose, in some cases you may want to set filtering to avoid ingestion of unwanted events in Insights. The nozzle allows you to filter out undesired events that are generated by the Firehose.

If you need any of the Firehose event types (`"ValueMetric"`, `"CounterEvent"`, `"ContainerMetric"`, `"HttpStartStop"`, `"LogMessage"`) to be captured by the nozzle and pushed to New Relic Insights, you must specify them as a comma-separated list of event types in the `"Selected Events"` property in **Advanced Settings** tab of the tile configuration.

Starting with version 2.X of the nozzle, ContainerMetric, CounterEvent, and ValueMetric events will be aggregated.  Events will include the min, max, sum, sample count, and last value of each metric.  This will reduce the number of Insights events created by the nozzle while still providing detail on each metric type.

If needed, configure **LogMessage Filters** to include/exclude a subset of LogMessage events.  

### <a id='filter-examples'></a> Filter Examples

* LogMessage Source Include Filter - Only generate events for log messages with a source listed in this comma or pipe-separated list.
* LogMessage Source Exclude Filter - Do not generate events for log messages with a source listed in this comma or pipe-separated list.
* LogMessage Message Include Filter - Only generate events for log messages with message content that contains text listed in this comma or pipe-separated list.
* LogMessage Message Exclude Filter - Do not generate events for log messages with message content that contains text listed in this comma or pipe-separated list.

Multiple LogMessage filters can be combined to limit event creation.  Include filters are processed before exclude filters.  

<p class='note'><strong>Note:</strong> When you run the nozzle as an application, you can use the above environment variables in the application manifest file.</p>


## <a id="snapshot"></a> Product Snapshot

The following table provides version and version-support information about New Relic Nozzle for Pivotal Platform.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Tile version</td>
        <td>2.5.3</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>Feb 29, 2020</td>
    </tr>
    <tr>
        <td>Software component version</td>
        <td>New Relic Nozzle v2.5.3</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager version(s)</td>
        <td>2.4.x, 2.5.x, 2.6.x, 2.7.x, and 2.8.x</td>
    </tr>
    <tr>
        <td>Compatible Pivotal Application Service versions</td>
        <td>2.4.x, 2.5.x, 2.6.x, 2.7.x, and 2.8.x</td>
    </tr>
    <tr>
        <td>BOSH stemcell version</td>
        <td>Ubuntu Xenial</td>
    </tr>
    <tr>
        <td>IaaS support</td>
        <td>AWS, GCP, Azure, and vSphere</td>
    </tr>
</table>

## <a id='compatibility'></a> Compatibility

This project has been tested and is compatible with Pivotal Platform versions v2.4.x through v2.8.x.


## <a id="reqs"></a> Requirements

New Relic Nozzle for Pivotal Platform has the following requirements:

* An active New Relic account with a Pro or Pro Trial license
* New Relic Insights included in the license


## <a id='trial'></a> Trial License

If you do not already have a New Relic account, you can obtain a [14-day free trial license](http://newrelic.com/signup?funnel=pivotal-cloud-foundry&partner=Pivotal+Cloud+Foundry).


## <a id="feedback"></a> Feedback

If you have a feature request, questions, or information about a bug, please submit an issue [on github](https://github.com/newrelic/newrelic-pcf-nozzle-tile/issues).
